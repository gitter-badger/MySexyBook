{{= it.dots._header(it.extend({ page_id: 'user-edit' })) }}
<main id="page">
	<div class="container">
		<h1>Modifier votre profil</h1>

		<form action="{{= it.app.url }}/mon-profil" method="post">
			{{? it.form_error }}
				<p class="alert error">{{= it.form_error }}</p>
			{{?}}

			<fieldset>
				<legend>Description</legend>

				<div>
					<label for="user-sex">Sexe</label>
					<label>
						<input type="radio" name="user[sex]" id="user-sex-male" required value="male" {{= it.req.body && it.req.body.user ? (it.req.body.user.sex == 'male' ? 'checked="checked"' : '') : (it.user.sex && it.user.sex == 'male' ? 'checked="checked"' : '') }} />
						<span class="radio-label">Homme</span>
					</label>
					<label>
						<input type="radio" name="user[sex]" id="user-sex-female" required value="female" {{= it.req.body && it.req.body.user ? (it.req.body.user.sex == 'female' ? 'checked="checked"' : '') : (it.user.sex && it.user.sex == 'female' ? 'checked="checked"' : '') }} />
						<span class="radio-label">Femme</span>
					</label>
				</div>

				<div>
					<label for="user-biography">Biographie</label>
					<textarea name="user[biography]" id="user-biography" cols="40" rows="8">{{= (it.req.body && it.req.body.user && it.req.body.user.biography) ? it.req.body.user.biography : ((it.current_user.biography) ? it.current_user.biography : '') }}</textarea>
					<span class="field-indication">Présentez-vous rapidement : ce que vous faites dans la vie, ce que vous aimeriez faire…</span>
				</div>
			</fieldset>

			<fieldset>
				<legend>Géographie</legend>

				<div>
					<label for="user-geo_county">Département</label>
					<select name="user[geo_county]" id="user-geo_county" required size="1">
						<option value="">— Renseignez votre département</option>
						{{~ it.geo_counties : county }}
						<option value="{{= county._id }}" {{= it.req.body && it.req.body.user ? (county._id == it.req.body.user.geo_county ? 'selected="selected"' : '') : (it.user.geo_county_id && it.user.geo_county_id == county._id ? 'selected="selected"' : '') }}>{{= it.sanitize(county._id + ' – ' + county.name) }}</option>
						{{~}}
					</select>
				</div>
			</fieldset>

			<fieldset>
				<legend>Style</legend>

				<div>
					<label for="user-camera_side">Côté de la caméra préféré</label>
					<label>
						<input type="radio" name="user[camera_side]" id="user-camera_side-photographer" required value="photographer" {{= it.req.body && it.req.body.user ? (it.req.body.user.camera_side == 'photographer' ? 'checked="checked"' : '') : (it.user.camera_side && it.user.camera_side == 'photographer' ? 'checked="checked"' : '') }} />
						<span class="radio-label">Photographe</span>
					</label>
					<label>
						<input type="radio" name="user[camera_side]" id="user-camera_side-model" required value="model" {{= it.req.body && it.req.body.user ? (it.req.body.user.camera_side == 'model' ? 'checked="checked"' : '') : (it.user.camera_side && it.user.camera_side == 'model' ? 'checked="checked"' : '') }} />
						<span class="radio-label">Modèle</span>
					</label>
				</div>

				<div>
					<label for="user-photo_styles">Style(s) préféré(s)</label>
					<label title="Photo sexy en habit complet">
						<input type="checkbox" name="user[photo_styles][]" id="user-photo_styles-fashion" value="fashion" {{= (it.req.body && it.req.body.user) ? ((it.req.body.user.photo_styles && it.req.body.user.photo_styles.indexOf('fashion') !== -1) ? 'checked="checked"' : '') : (it.user && it.user.photo_styles && it.user.photo_styles.indexOf('fashion') !== -1 ? 'checked="checked"' : '') }} />
						<span class="checkbox-label">Mode</span>
					</label>
					<label title="Photo sexy en habit complet">
						<input type="checkbox" name="user[photo_styles][]" id="user-photo_styles-glamour" value="glamour" {{= (it.req.body && it.req.body.user) ? ((it.req.body.user.photo_styles && it.req.body.user.photo_styles.indexOf('glamour') !== -1) ? 'checked="checked"' : '') : (it.user && it.user.photo_styles && it.user.photo_styles.indexOf('glamour') !== -1 ? 'checked="checked"' : '') }} /> <span class="checkbox-label">Glamour</span>
					</label>
					<label title="Photo en lingerie et/ou maillot de bain">
						<input type="checkbox" name="user[photo_styles][]" id="user-photo_styles-lingerie" value="lingerie" {{= (it.req.body && it.req.body.user) ? ((it.req.body.user.photo_styles && it.req.body.user.photo_styles.indexOf('lingerie') !== -1) ? 'checked="checked"' : '') : (it.user && it.user.photo_styles && it.user.photo_styles.indexOf('lingerie') !== -1 ? 'checked="checked"' : '') }} /> <span class="checkbox-label">Lingerie</span>
					</label>
					<label title="Photo érotique : nudité partielle ou complète">
						<input type="checkbox" name="user[photo_styles][]" id="user-photo_styles-erotic" value="erotic" {{= (it.req.body && it.req.body.user) ? ((it.req.body.user.photo_styles && it.req.body.user.photo_styles.indexOf('erotic') !== -1) ? 'checked="checked"' : '') : (it.user && it.user.photo_styles && it.user.photo_styles.indexOf('erotic') !== -1 ? 'checked="checked"' : '') }} /> <span class="checkbox-label">Érotique</span>
					</label>
					<label title="Photo avec nudité totale">
						<input type="checkbox" name="user[photo_styles][]" id="user-photo_styles-nude" value="nude" {{= (it.req.body && it.req.body.user) ? ((it.req.body.user.photo_styles && it.req.body.user.photo_styles.indexOf('nude') !== -1) ? 'checked="checked"' : '') : (it.user && it.user.photo_styles && it.user.photo_styles.indexOf('nude') !== -1 ? 'checked="checked"' : '') }} /> <span class="checkbox-label">Nu</span>
					</label>
				</div>

				<div>
					<label for="user-photo_conditions">Vos conditions</label>
					<textarea name="user[photo_conditions]" id="user-photo_conditions" cols="40" rows="5">{{= (it.req.body && it.req.body.user && it.req.body.user.photo_conditions) ? it.req.body.user.photo_conditions : ((it.user.photo_conditions) ? it.user.photo_conditions : '') }}</textarea>
					<span class="field-indication">Si vous ne souhaitez travailler qu'avec certaines personnes ou dans des conditions particulières, c'est le moment de le préciser</span>
				</div>
			</fieldset>

			<div>
				<button type="submit">Mettre à jour</button>
			</div>
		</form>
	</div>
</main>
{{= it.dots._footer(it) }}